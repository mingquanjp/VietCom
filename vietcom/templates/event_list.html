{% extends 'base.html' %}

{% block title %}Sự kiện - VietCom{% endblock %}

{%
block content %}
<div class="row">
  <div class="col-md-8">
    <div class="content-wrapper">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h4><i class="fas fa-calendar-alt"></i> Sự kiện</h4>
        <a href="{% url 'create_event' %}" class="btn btn-primary">
          <i class="fas fa-plus"></i> Tạo sự kiện
        </a>
      </div>

      {% if events %}
{% for event in events %}
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">{{ event.name }}</h5>
          <p class="card-text">{{ event.description|truncatewords:20 }}</p>
          <div class="row">
            <div class="col-md-6">
              <small class="text-muted">
                <i class="fas fa-clock"></i> {{ event.time|date:"d/m/Y H:i" }}
              </small>
            </div>
            <div class="col-md-6">
              <small class="text-muted">
                <i class="fas fa-map-marker-alt"></i> {{ event.location_desc }}
              </small>
            </div>
          </div>
          <div class="mt-3">
            <a
              href="{% url 'event_detail' event.id %}"
              class="btn btn-outline-primary btn-sm"
            >
              Xem chi tiết
            </a>
            <span class="badge bg-info ms-2"
              >{{ event.participant_count }} người tham gia</span
            >
          </div>
        </div>
      </div>
      {% endfor %}
{% else %}
      <div class="text-center py-5">
        <i class="fas fa-calendar-alt fa-3x text-muted mb-3"></i>
        <h5>Chưa có sự kiện nào</h5>
        <p class="text-muted">Hãy tạo sự kiện đầu tiên!</p>
        <a href="{% url 'create_event' %}" class="btn btn-primary">
          <i class="fas fa-plus"></i> Tạo sự kiện
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
